[{"authors":null,"categories":null,"content":"RP2040 chip development board with ESP8285 wireless module user guide [ English ] | [ ä¸­æ–‡ ]\nRP2040 chip development board with ESP8285 wireless module user guide 1. Preliminary Introduction 1.1 Why not buy another Raspberry Pico W? 1.2 Why is this guide necessary if Arduino can be used without setup? 2. Bringing RP-ESP up to date 2.1 Preparation 2.1.1 Firmware version selection 2.1.2 Flashing tools preparation 2.1.3 Firmware components introduction 2.2 Starting to flash firmware 2.3 Using RP-ESP with Arduino IDE 3. Personal projects 4. Acknowledgments 5. Welcome to ask questions! 1. Preliminary Introduction I previously used a Raspberry Pico W produced by the Raspberry Pi Foundation, but one day I noticed it was not working properly and could not connect to my wireless network. After carefully checking, I found that a small capacitor on the boardâ€™s trapezoidal antenna had fallen off. After some effort, I had to give up on this board ğŸ˜­.\nOn Taobao, the original Raspberry Pico W boards I could find were all priced at over 50 RMB, which seemed too expensive for my development purposes. For that reason, I purchased a board labeled as a Raspberry Pico W clone, which featured a Type-C interface and a less easily damaged built-in antenna design, with a price of around 20 RMB. I was attracted by these features.\nHowever, upon receiving it, I found that this was a Chinese-produced clone board that imitated the Raspberry Pico board design one-for-one, simply replacing the ESP-01 wireless module. As a result, all the code I had written for the original Raspberry Pico W no longer worked because most of the third-party libraries relied on the CYW43439 module. Therefore, I had to modify all my code!\nFortunately, I succeeded, but the process was very tedious. This is why I want to provide this guide for friends who have similar experiences, to reduce unnecessary time spent.\n1.1 Why not buy another Raspberry Pico W? Firstly, this Chinese board is very cheap. Secondly, it meets all my project requirements at less than half the price of an official Raspberry Pico W, and it is equally stable.\nHereâ€™s a comparison between the two boards (RP2040 with ESP8285 development board is abbreviated as RP-ESP, and Raspberry Pico W is abbreviated as Pico W, the same below.):\nDifference Explanation Notes Communication with the wireless module Pico W uses SPI communication, while RP-ESP uses UART0 (GP0ã€GP1). The wireless speed of RP-ESP is somewhat lower than Pico W because ESP8286 becomes unstable at high baud rates. However, this doesnâ€™t affect basic usage. Wireless module capability CYW43 is superior to ESP8286 in all aspects except price (e.g., supports more access points, more protocols, better UDP support, more power-efficient). RP-ESP is suitable for users who do not require it to act as an access point and have lower network demands. Connection method with the wireless module Communication with the wireless module inevitably occupies some pins of RP2040. In this aspect, RP-ESP has an advantage as it only occupies GP0 and GP1 (UART0â€™s TX, RX). On Pico W, the built-in LED (LED_BUILTIN) control is handed over to CYW43, meaning only digital signals can be output. RP-ESP retains LED control similar to Pico, allowing both digital and analog signal outputs to the LED_BUILTIN pin. Customization level of the wireless module Pico W only allows control of the wireless module via its driver. RP-ESP can flash any firmware supported by standard ESP8285 boards onto the module. Note: RP-ESP only supports 1MB memory ESP8285 (the common ESP-01 module) firmware, including Arduino support. 1.2 Why is this guide necessary if Arduino can be used without setup? The ESP8285 on RP-ESP comes with AT firmware, which is based on a 2016-vintage AT instruction set (version 1.2), outdated after nearly a decade with many new commands unsupported. More importantly, this old AT firmware only supports the outdated WiFiEsp library, which has many issues and is unsuitable for use, far inferior to Pico Wâ€™s built-in Wi-Fi library.\n2. Bringing RP-ESP up to date We need to make some adjustments to ensure that the ESP8285 on RP-ESP meets our basic needs, at least matching 80% of Pico Wâ€™s functionality, which is sufficient for my purposes.\n2.1 Preparation Using AT command set ESP-01 (with ESP8285 core) is supported by WiFiEspAT library by @JAndrassy. But to use this library, the AT firmware must be at least version 1.7.\nTherefore, we need to upgrade ESP8285â€™s AT firmware.\n2.1.1 Firmware version selection Based on tested versions, the only usable and trouble-free version is 1.7.4. Our comparisons are based on this version.\nVersion Differences Download method Officially released AT v1.7.4 firmware \\ Download link available on GitHub, included in SDK v3.0.4. loborisâ€™s ESP8266_AT_LoBo (strongly recommended, this guide is based on it) Modified from official v3.1.0 to improve support for SSL, OTA, etc., adding more AT commands. More details and downloads available on this link. â€¦","date":1744602992,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1744646224,"objectID":"99583335aa0da076c99c2978d52b12a2","permalink":"https://blog.ourdocs.cn/post/rp2040_with_esp8285_arduino_guide/","publishdate":"2025-04-14T11:56:32+08:00","relpermalink":"/post/rp2040_with_esp8285_arduino_guide/","section":"post","summary":"RP2040-ESP8285 Development Board Hands-on Getting Started Guide","tags":["tutorial","English"],"title":"RP2040 chip development board with ESP8285 wireless module user guide","type":"post"},{"authors":null,"categories":null,"content":"å¸¦ESP8285æ— çº¿æ¨¡å—çš„RP2040èŠ¯ç‰‡å¼€å‘æ¿ä½¿ç”¨æŒ‡å— [ English ] | [ ä¸­æ–‡ ]\nå¸¦ESP8285æ— çº¿æ¨¡å—çš„RP2040èŠ¯ç‰‡å¼€å‘æ¿ä½¿ç”¨æŒ‡å— 1. å‰æƒ…æè¦ 1.1 ä¸ºä»€ä¹ˆä¸å†ä¹°ä¸€å—Raspberry Pico Wï¼Ÿ 1.2 Arduinoæ— éœ€é…ç½®å³å¯ä½¿ç”¨ï¼Œä¸ºä½•éœ€è¦è¿™ä¸ªæŒ‡å—ï¼Ÿ 2. è®©RP-ESPè·Ÿä¸Šæ—¶ä»£ 2.1 å‰æœŸå‡†å¤‡ 2.1.1 å›ºä»¶ç‰ˆæœ¬é€‰æ‹© 2.1.2 åˆ·å†™å·¥å…·å‡†å¤‡ 2.1.3 å›ºä»¶å„éƒ¨åˆ†å†…å®¹ä»‹ç» 2.2 å¼€å§‹åˆ·å†™å›ºä»¶ 2.3 é…åˆArduino IDEä½¿ç”¨RP-ESP 3. ä¸ªäººä½œå“ 4. è‡´è°¢ 5. æ¬¢è¿å‘æˆ‘æé—®ï¼ 1. å‰æƒ…æè¦ æˆ‘åŸæœ¬ä½¿ç”¨çš„æ˜¯ä¸€å—æ ‘è“æ´¾åŸºé‡‘ä¼šåŸäº§çš„Raspberry Pico Wï¼Œä½†æ˜¯æœ‰ä¸€å¤©æˆ‘çªç„¶å‘ç°å®ƒä¸èƒ½æ­£å¸¸å·¥ä½œäº†ï¼Œæ— æ³•è¿æ¥æˆ‘çš„æ— çº¿ç½‘ç»œã€‚ç»è¿‡ä»”ç»†æ£€æŸ¥ï¼Œæˆ‘å‘ç°æ¿å­ä¸Šæ¢¯å½¢å¤©çº¿çš„ä¸€ä¸ªå°ç”µå®¹è„±è½äº†ï¼Œç»è¿‡ä¸€ç•ªåŠªåŠ›ï¼Œæˆ‘æ”¾å¼ƒäº†è¿™å—æ¿å­ğŸ˜­ã€‚ æˆ‘åœ¨æ·˜å®ä¸Šèƒ½æ‰¾åˆ°çš„åŒæ¬¾æ¿å­åŸºæœ¬éƒ½æ˜¯50+äººæ°‘å¸ï¼Œå¯¹æˆ‘çš„å¼€å‘ç”¨é€”æ¥è¯´æœ‰ç‚¹å¤ªè´µäº†ï¼Œä¸åˆ’ç®—ï¼Œç„¶åè´­å…¥äº†ä¸€å—æ ‡æ¦œç€Raspberry Pico Wçš„å¼€å‘ç‰ˆï¼Œå•†å“é¡µæˆ‘å–œæ¬¢çš„Type-Cæ¥å£ä»¥åŠä¸å¤ªå®¹æ˜“æŸåçš„æ¿è½½å¤©çº¿è®¾è®¡ä»¥åŠ20+äººæ°‘å¸çš„ä»·æ ¼å±å®è®©æˆ‘å¿ƒåŠ¨äº†ã€‚ ä½†æˆ‘ä¹°å›æ¥ä¹‹åå‘ç°è¿™åªæ˜¯ä¸€å—æ¨¡ä»¿Raspberry Picoæ¿å­ä¸€æ¯”ä¸€å¤åˆ»ï¼Œå¹¶å°†ESP-01æ— çº¿æ¨¡å—æ¬ä¸Šæ¿å­çš„çº¯çº¯ä¸­å›½äº§äº§å“ï¼Œæ‰€æœ‰æˆ‘ä»¥å‰æ ¹æ®Raspberry Pico Wå¼€å‘æ¿å†™çš„ä»£ç éƒ½ä¸èƒ½ç”¨äº†ï¼Œå› ä¸ºå¤§å¤šæ•°ä¾èµ–ç½‘ç»œé“¾æ¥çš„ç¬¬ä¸‰æ–¹åº“éƒ½æ˜¯æ ¹æ®CYW43439æ— çº¿æ¨¡ç»„è®¾è®¡çš„ï¼Œæ‰€ä»¥æˆ‘çš„ä»£ç ä¸å¾—ä¸å…¨ï¼éƒ¨ï¼ä¿®ï¼æ”¹ï¼ å¹¸è¿çš„æ˜¯ï¼Œæˆ‘æˆåŠŸäº†ï¼Œä½†æ˜¯éå¸¸æŠ˜è…¾ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä½•æˆ‘æƒ³ä¸ºä¸æˆ‘æœ‰ç›¸ä¼¼ç»å†çš„æœ‹å‹ä»¬æä¾›è¿™ä¸ªæŒ‡å—ï¼Œå‡å°‘ä¸å¿…è¦çš„æ—¶é—´å¼€é”€ã€‚\n1.1 ä¸ºä»€ä¹ˆä¸å†ä¹°ä¸€å—Raspberry Pico Wï¼Ÿ é¦–å…ˆï¼Œè¿™å—å›½äº§æ¿å­éå¸¸ä¾¿å®œï¼Œå…¶æ¬¡ï¼Œå®ƒä»¥ä¸åˆ°æ­£ç‰ˆä¸€åŠçš„ä»·æ ¼æ»¡è¶³äº†æˆ‘é¡¹ç›®çš„å…¨éƒ¨å¼€å‘éœ€æ±‚ï¼Œè€Œä¸”åŒæ ·ç¨³å®šã€‚ ä»¥ä¸‹æ˜¯è¿™ä¸¤å—æ¿å­çš„ä¸€äº›æƒ…å†µå¯¹æ¯”ï¼ˆRP2040 with ESP8285å¼€å‘æ¿ç®€ç§° RP-ESPï¼Œ Raspberry Pico Wç®€ç§°Pico Wï¼Œä¸‹åŒï¼‰ï¼š\nå·®å¼‚ è¯´æ˜ å¤‡æ³¨ ä¸æ— çº¿æ¨¡å—çš„é€šä¿¡æ–¹å¼ Pico Wä»¥SPIçš„æ–¹å¼é€šä¿¡ï¼Œè€ŒRP-ESPä»¥UART0ï¼ˆGP0ã€GP1ï¼‰ä¸æ— çº¿æ¨¡å—é€šä¿¡ RP-ESPçš„æ— çº¿é€Ÿç‡è¾ƒPico Wä¼šæ›´ä½ä¸€äº›ï¼Œå› ä¸ºESP8286åœ¨é«˜é€Ÿæ³¢ç‰¹ç‡é€šä¿¡é€Ÿç‡ä¸‹ä¼šä¸ç¨³å®šï¼Œä½†ä¸å½±å“åŸºæœ¬ä½¿ç”¨ æ— çº¿æ¨¡å—çš„èƒ½åŠ› CYW43æ˜¯ä¸€å—å…¨æ–¹ä½é¢†å…ˆESP8286çš„èŠ¯ç‰‡ï¼ˆé™¤äº†ä»·æ ¼ï¼‰ï¼Œæ¯”å¦‚æ”¯æŒæ›´å¤šçš„æ— çº¿æ¥å…¥ç‚¹æ•°é‡ã€æ›´å¤šçš„åè®®ã€æ›´å®Œå–„çš„UDPæ”¯æŒã€æ›´åŠ çœç”µç­‰ç­‰ RP-ESPé€‚åˆé‚£äº›ä¸éœ€è¦å°†å®ƒä½œä¸ºæ— çº¿æ¥å…¥ç‚¹ï¼Œå¯¹ç½‘ç»œè¦æ±‚æ²¡æœ‰é‚£ä¹ˆé«˜çš„ç”¨æˆ· ä¸æ— çº¿æ¨¡å—çš„è¿æ¥æ–¹å¼ ä¸æ— çº¿æ¨¡å—é€šä¿¡ä¸å¯é¿å…çš„ä¼šå ç”¨ä¸€äº›RP2040çš„å¼•è„šï¼Œåœ¨è¿™ä¸ªæ–¹é¢RP-ESPæ›´æœ‰ä¼˜åŠ¿ï¼Œå› ä¸ºå®ƒå ç”¨çš„å¼•è„šæ¯”Pico Wæ›´å°‘ï¼Œä»…ä¸ºUART0çš„TXã€RXä¸¤ä¸ªå¼•è„šï¼ˆGP0ï¼ŒGP1ï¼‰ã€‚ åœ¨Pico Wä¸Šï¼Œæ¿è½½LEDï¼ˆLED_BUILTINï¼‰çš„æ§åˆ¶äº¤ç»™äº†CYW43ï¼Œæ‰€ä»¥åªèƒ½è¾“å‡ºæ•°å­—ä¿¡å·ï¼›è€ŒRP-ESPçš„æ§åˆ¶ä¸Picoå¦‚å‡ºä¸€è¾™ï¼Œéƒ½å¯ä»¥å¯¹LED_BUILTINå¼•è„šè¾“å‡ºæ•°å­—å’Œæ¨¡æ‹Ÿä¿¡å·ï¼Œè¿™å°±æ„å‘³ç€æˆ‘ä»¬å¯ä»¥è®©æ¿è½½LEDé—ªçƒæˆ–è€…æ¸å˜ã€‚ æ— çº¿æ¨¡å—çš„å¯å®šåˆ¶ç¨‹åº¦ Pico Wåªå…è®¸ä»¥é©±åŠ¨æä¾›çš„æ–¹å¼æ§åˆ¶æ— çº¿æ¨¡å—ï¼Œè€ŒRP-ESPå¯ä»¥ç›´æ¥å¯¹ESP8285åˆ·å…¥ä»»æ„æ™®é€šESP8285å¼€å‘æ¿æ”¯æŒçš„å›ºä»¶ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒRP-ESPä»…æ”¯æŒä¸º1MBå­˜å‚¨çš„ESP8285ï¼ˆå³æˆ‘ä»¬å¸¸è§çš„ESP-01æ¨¡ç»„ï¼‰å¼€å‘çš„å›ºä»¶ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ”¯æŒArduinoã€‚ 1.2 Arduinoæ— éœ€é…ç½®å³å¯ä½¿ç”¨ï¼Œä¸ºä½•éœ€è¦è¿™ä¸ªæŒ‡å—ï¼Ÿ RP-ESPè¿™å—æ¿çš„ESP8285è‡ªå¸¦çš„æ˜¯ATå›ºä»¶ï¼ŒATæŒ‡ä»¤é›†çš„ç‰ˆæœ¬æ˜¯æ˜¯åœç•™åœ¨2016å¹´æ¨å‡ºçš„1.2ç‰ˆæœ¬ï¼Œè¿™æ˜¯è¿‘10å¹´å‰æ¨å‡ºçš„ç³»ç»Ÿï¼Œå¾ˆå¤šæ–°çš„ATæŒ‡ä»¤é›†éƒ½ä¸æ”¯æŒï¼Œå·²ç»ä¸¥é‡è¿‡æ—¶äº†ã€‚ æ›´é‡è¦çš„æ˜¯ï¼Œè¿™ä¸ªæ—§ç‰ˆçš„ATå›ºä»¶åªæ”¯æŒå·²ç»6å¹´æœªæ›´æ–°è¿‡çš„WiFiEspåº“ï¼Œç°ä»Šè¿™ä¸ªåº“å·²ç»å‡ºç°äº†å¾ˆå¤šé—®é¢˜ï¼Œä¸å†é€‚åˆä½¿ç”¨äº†ï¼Œå’ŒPico Wè‡ªå¸¦çš„æ— çº¿ç½‘ç»œåº“æ²¡æœ‰å¯æ¯”æ€§ã€‚\n2. è®©RP-ESPè·Ÿä¸Šæ—¶ä»£ æˆ‘ä»¬éœ€è¦åšä¸€äº›å·¥ä½œï¼Œæ¥è®©RP-ESPçš„ESP8285èƒ½å¤Ÿæ»¡è¶³æˆ‘ä»¬çš„åŸºæœ¬éœ€æ±‚ï¼Œè‡³å°‘è¾¾åˆ°Pico-W 80%çš„å¯ç”¨æ€§ï¼Œè¿™å¯¹æˆ‘æ¥è¯´å·²ç»è¶³å¤Ÿäº†ã€‚\n2.1 å‰æœŸå‡†å¤‡ ä½¿ç”¨ATæŒ‡ä»¤çš„ESP-01ï¼ˆå³æ­è½½ESP8285æ ¸å¿ƒçš„æ¨¡å—ï¼‰æ— çº¿æ¨¡å—åœ¨Arduinoä¸­å¹¶éæ²¡æœ‰æ”¯æŒï¼Œæˆ‘ååˆ†æ¨è@JAndrassyçš„WiFiEspATåº“ï¼Œä½†è¦ä½¿ç”¨è¿™ä¸ªåº“è‡³å°‘éœ€è¦ATå›ºä»¶çš„ç‰ˆæœ¬å¤§äº1.7ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦å‡çº§ESP8285çš„ATå›ºä»¶ã€‚\n2.1.1 å›ºä»¶ç‰ˆæœ¬é€‰æ‹© ESP8285/ESP8266ç›®å‰ç»æµ‹è¯•å”¯ä¸€å¯ä»¥ä½¿ç”¨ä¸”ä¸ä¼šå‡ºç°ä»»ä½•é—®é¢˜çš„ç‰ˆæœ¬å·æ˜¯1.7.4ï¼Œå› æ­¤æˆ‘ä»¬çš„å¯¹æ¯”éƒ½ä»è¿™ä¸ªç‰ˆæœ¬å‡ºå‘ã€‚\nç‰ˆæœ¬ å·®å¼‚ ä¸‹è½½æ–¹å¼ å®˜æ–¹æ¨å‡ºçš„AT v1.7.4å›ºä»¶ \\ å®˜ç½‘å·²ç»å»é™¤äº†è‚‰çœ¼å¯è§çš„ä¸‹è½½æŒ‰é’®ï¼Œä½†è¿˜æ˜¯å¯ä»¥é€šè¿‡GitHubçš„é“¾æ¥ä¸‹è½½ï¼ŒAT 1.7.4å›ºä»¶è¢«åŒ…å«åœ¨æ˜¯3.0.4ç‰ˆæœ¬çš„åŒ…ä¸­ã€‚ @loborisçš„ESP8266_AT_LoBoï¼ˆå¼ºçƒˆæ¨èï¼Œæœ¬æ–‡ä¹ŸåŸºäºå®ƒè¯´æ˜ï¼‰ åŸºäºå®˜æ–¹3.1.0çš„ç‰ˆæœ¬ä¿®æ”¹è€Œæ¥ï¼Œå¯¹SSLã€OTAç­‰åŠŸèƒ½çš„æ”¯æŒæ›´å¥½ï¼Œè¿˜å¢åŠ äº†æ›´å¤šçš„ATæŒ‡ä»¤ã€‚ è¯¦ç»†çš„æ”¹è¿›å’Œä¸‹è½½éƒ½å¯ä»¥é€šè¿‡è¿™ä¸ªé“¾æ¥æ‰¾åˆ°ã€‚ @JiriBilekçš„ESP_ATMod è¾ƒå®˜æ–¹ç‰ˆæœ¬å¢åŠ äº†å¯¹TLS 1.2çš„æ”¯æŒï¼Œä½†åŒæ—¶ä¹Ÿå»é™¤äº†å¯¹UDPçš„æ”¯æŒã€‚ è¯¦ç»†çš„å·®å¼‚å’Œä¸‹è½½å¯ä»¥é€šè¿‡è¿™ä¸ªé“¾æ¥æŸ¥åˆ° 2.1.2 åˆ·å†™å·¥å…·å‡†å¤‡ æˆ‘ä»¬æœ‰ä¸¤ç§å·¥å…·å¯ä»¥é€‰æ‹©ï¼Œå‡ä¸ºå®˜æ–¹å‡ºå“ã€‚\nå®˜æ–¹æ¨å‡ºçš„å…¨å¹³å°ï¼ˆæ”¯æŒWindowsã€Linuxã€macOSï¼‰å‘½ä»¤è¡Œåˆ·å†™å·¥å…·esptoolã€‚ å®˜æ–¹æ¨å‡ºçš„å›¾å½¢åŒ–åº”ç”¨ç¨‹åºï¼ˆä»…æ”¯æŒWindowsï¼‰ï¼Œå¯ç›´æ¥ç‚¹å‡»é“¾æ¥ä¸‹è½½ã€‚ æœ¬ç€æ–¹ä¾¿å°ç™½ç”¨æˆ·çš„åŸåˆ™ï¼Œæœ¬æ–‡ä¸»è¦ä»¥ç¬¬äºŒç§å·¥å…·æ¥åšä»‹ç»ã€‚ 2.1.3 å›ºä»¶å„éƒ¨åˆ†å†…å®¹ä»‹ç» ä»¥ä¸‹è¡¨æ ¼æ–‡ä»¶åç§°å‡ä»¥ESP8266_AT_LoBo\\binç›®å½•ä¸‹çš„ä¸ºä¾‹ï¼š\nåç§° ä½œç”¨ åˆ·å†™åœ°å€ bootloader.bin å¼•å¯¼ç³»ç»Ÿå¯åŠ¨ 0x00000 upgrade\\esp8266_AT_1_2.bin ç³»ç»Ÿç¬¬ä¸€éƒ¨åˆ† 0x01000 blank.bin ç©º 0x7e000 upgrade\\esp8266_AT_2_2.bin ç³»ç»Ÿç¬¬äºŒéƒ¨åˆ† 0x81000 esp_init_data_default_v08.bin ç³»ç»Ÿåˆå§‹æ•°æ® 0xfc000 blank.bin ç©º 0xfe000 2.2 å¼€å§‹åˆ·å†™å›ºä»¶ ç¬¬ä¸€æ­¥ï¼šæ‰“å¼€è½¯ä»¶ï¼Œåœ¨å¼¹å‡ºçš„çª—å£é€‰æ‹©esp8285ï¼Œç„¶åç‚¹å‡»OK: ç¬¬äºŒæ­¥ï¼šä¸‹è½½Serial_port_transmission.uf2ï¼Œæ–­å¼€RP-ESPæ¿ç”µæºï¼Œé•¿æŒ‰ä¸‹å›¾çº¢è‰²æ¡†ä¸­çš„BOOTSELæŒ‰é’®ï¼Œå†æ’ä¸Šçº¿è¿æ¥è‡³ç”µè„‘ï¼Œå°†ä¸‹è½½å¥½çš„Serial_port_transmission.uf2æ‹–å…¥æ–°å‡ºç°çš„ç£ç›˜ä¸­ï¼ˆä¸€èˆ¬å«åšRPI-RP2ï¼‰ï¼Œæ­¤æ—¶ç£ç›˜ä¼šè‡ªåŠ¨æ–­å¼€ï¼Œæ–°çš„åä¸ºTinyUSBçš„ä¸²å£è®¾å¤‡å°†ä¼šå‡ºç°åœ¨ç”µè„‘ä¸­ã€‚ æ­¤æ—¶å†æ¬¡æ–­å¼€è®¾å¤‡ä¸ç”µè„‘çš„è¿æ¥å’Œä¾›ç”µï¼ŒæŒ‰ä½ä¸‹å›¾é»„è‰²æ¡†ä¸­çš„BOOTæŒ‰é’®ï¼Œå†æ¬¡è¿æ¥ç”µè„‘ï¼Œæ­¤æ—¶çš„ESP8285å°†ä¼šè¿›å…¥å¯åˆ·å…¥çŠ¶æ€ï¼Œæ­¤æ—¶å¯ä»¥é€šè¿‡è½¯ä»¶åˆ·å†™å›ºä»¶ï¼Œç”šè‡³æ˜¯Arduinoçš„sketchï¼ˆå› ä¸ºå…¶åº•å±‚ä¹Ÿæ˜¯ä½¿ç”¨esptoolï¼‰ã€‚ ç¬¬ä¸‰æ­¥ï¼šæŒ‰ç…§ä¸‹å›¾æ‰€ç¤ºä¿¡æ¯é…ç½®å¥½è½¯ä»¶ï¼Œç‰¹åˆ«æ˜¯é€‰å¥½å³ä¸‹è§’COM:ä¸­ä½ RP-ESPæ¿å­å¯¹åº”çš„ä¸²å£ï¼š: å¦‚æœè§‰å¾—ä¸€ä¸ªä¸ªé…ç½®å›ºä»¶åœ°å€å¤ªè¿‡éº»çƒ¦ï¼Œä»“åº“ä¸­è¿˜æä¾›äº†åˆå¹¶åŒ…ä¾›å¤§å®¶é€‰æ‹©ï¼Œä¸€å…±æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼šESP8285_1MB_1.7.4_AT.binæ˜¯å®˜æ–¹å›ºä»¶ï¼ŒESP8285_1MB_1.7.4_AT_Lobo.binæ˜¯ESP8266_AT_LoBoå›ºä»¶ï¼Œå¼ºçƒˆæ¨èä½¿ç”¨åè€…åˆ·å…¥ã€‚ å¦‚æœé€‰æ‹©ä½¿ç”¨ä¸€ä½“åŒ…åˆ·å…¥ï¼Œè¯·æŒ‰ç…§ä¸‹å›¾é…ç½®ï¼š ç¬¬å››æ­¥ï¼šç‚¹å‡»STARTæŒ‰é’®ï¼Œç­‰å¾…åˆ·å†™ç»“æŸåï¼Œæ–­å¼€RP-ESPæ¿ç”µæºåï¼Œå†æ¬¡è¿æ¥ç”µè„‘ï¼Œæ­¤æ—¶ä»»æ„é€‰æ‹©ä¸€ä¸ªä¸²å£åŠ©æ‰‹è½¯ä»¶ï¼Œæ‰“å¼€RP-ESPå¯¹åº”çš„ä¸²å£ï¼Œè¾“å…¥ATæŒ‡ä»¤ï¼ˆä»¥\\r\\nå­—ç¬¦åšç»“å°¾ï¼‰ï¼Œä½ å¯ä»¥çœ‹åˆ°ESP8285è¿”å›çš„OKå“åº”ï¼Œè¾“å…¥AT+GMRï¼Œå°†å¯ä»¥çœ‹åˆ°è¿”å›çš„ç‰ˆæœ¬ä¿¡æ¯ä¸­æ˜¾ç¤ºç³»ç»Ÿä¸º1.7.4ã€‚ 2.3 é…åˆArduino IDEä½¿ç”¨RP-ESP ä½¿ç”¨Arduinoå†™å…¥RaspberryPi Picoçš„sketchï¼Œæˆ‘æ¨è@earlephilhowerçš„arduino-picoå¼€å‘å¥—ä»¶ï¼Œä¸å»ºè®®ä½¿ç”¨Arduinoå®˜æ–¹çš„Arduino Mbed OS RP2040 Boardsï¼Œå› ä¸ºæ¯”èµ·å‰è€…ï¼Œåè€…è¦å°‘è®¸å¤šåŠŸèƒ½å’Œå¼€å‘æ ·ä¾‹ã€‚ åœ¨Arduino IDEä¸­ç‚¹å‡»ä¸Šä¼ åï¼Œä¸‹æ–¹çš„è¾“å‡ºä¼šå¡åœ¨Scanning for RP2040 devicesï¼Œæ­¤æ—¶æ–­å¼€RP-ESPæ¿å­å’Œç”µè„‘çš„è¿æ¥ï¼ŒæŒ‰ä½2.2 å¼€å§‹åˆ·å†™å›ºä»¶ä¸­ç¬¬äºŒæ­¥ä¸­çº¢è‰²æ¡†é€‰çš„BOOTSELæŒ‰é’®ï¼Œå†æ’ä¸Šçº¿è¿æ¥è‡³ç”µè„‘ï¼Œæ­¤æ—¶Arduino IDEå°†ä¼šå†™å…¥sketchè‡³RP-ESPæ¿å­çœ‹åˆ°ç±»ä¼¼Wrote xxxxxx bytes to /Volumes/RPI-RP2/NEW.UF2å­—æ ·å³ä¸ºæˆåŠŸã€‚ é…åˆWiFiEspATåº“ä½¿ç”¨æ—¶ï¼ŒåŠ¡å¿…è®°å¾—è®¾ç½®Serial1çš„TX\\RXä¸ºGP0\\GP1ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºç°æ‰¾ä¸åˆ°Wi-Fiæ¨¡å—çš„é”™è¯¯ã€‚ä¸æ­¤åŒæ—¶ï¼Œå¦‚æœè¦ç”¨åˆ°WiFi.sntp()ç›¸å…³åŠŸèƒ½ï¼ŒåŠ¡å¿…ä½¿ç”¨ESP8266_AT_LoBoå›ºä»¶ã€‚ 3. ä¸ªäººä½œå“ å°†Pico Wä¸“ç”¨çš„åº“æ›¿æ¢åï¼Œæœ€ç»ˆçš„ä¸ªäººä½œå“â€”â€”ä¸€ä¸ªå¯è°ƒèŠ‚é¢œè‰²ã€äº®åº¦çš„å—ç“œç¯å’Œä¸€ä¸ªå¯ä»¥æ˜¾ç¤ºæ—¥æœŸæ—¶é—´ã€å®¤å†…ç¯å¢ƒæ•°æ®çš„å°æ‘†ä»¶ï¼ŒæˆåŠŸå¤æ´»ï¼ä¸€åˆ‡éƒ½å’Œä½¿ç”¨Pico Wæ—¶ä¸€æ ·ï¼ 4. è‡´è°¢ @JAndrassyçš„WiFiEspAT @loborisçš„ESP8266_AT_LoBo @JiriBilekçš„ESP_ATMod @earlephilhowerçš„arduino-pico 5. æ¬¢è¿å‘æˆ‘æé—®ï¼ å¦‚æœæœ‰å…¶ä»–ç–‘é—®ï¼Œæ¬¢è¿æå‡ºissueï¼\n","date":1744602992,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1744646224,"objectID":"fb5fcd95f19a0662778a040ae5e58e4e","permalink":"https://blog.ourdocs.cn/post/rp2040_with_esp8285_arduino_guidechinese/","publishdate":"2025-04-14T11:56:32+08:00","relpermalink":"/post/rp2040_with_esp8285_arduino_guidechinese/","section":"post","summary":"RP2040-ESP8285å¼€å‘æ¿æ‰‹æŠŠæ‰‹å…¥é—¨æŒ‡å—","tags":["tutorial","Chinese"],"title":"å¸¦ESP8285æ— çº¿æ¨¡å—çš„RP2040èŠ¯ç‰‡å¼€å‘æ¿ä½¿ç”¨æŒ‡å—","type":"post"},{"authors":null,"categories":null,"content":"ä¼—æ‰€å‘¨çŸ¥ï¼ŒGitHubæ—¶å¸¸å¤„äºå­˜åœ¨æˆ–æ˜¯ä¸å­˜åœ¨çš„è–›å®šè°”çŠ¶æ€ä¹‹ä¸­ï¼Œè‹¥æ˜¯è‡ªå·±çš„ä»£ç æ‰˜ç®¡åœ¨ä¸Šé¢ï¼Œåœ¨ç´§æ€¥æƒ…å†µæ—¶ï¼Œå¿…é¡»ä½¿ç”¨é­”æ³•æ‰èƒ½å¤Ÿè·å¾—ã€‚\næ˜¾è€Œæ˜“è§çš„æ˜¯ï¼Œä¸æ˜¯æ¯ä¸ªäººéƒ½æ˜¯é­”æ³•å¸ˆã€‚æ‰€ä»¥ï¼Œè‹¥æ˜¯æœ‰ä¸€ä¸ªèƒ½å¤Ÿå­˜å‚¨è‡ªå·±çš„ä»£ç ï¼Œå¹¶ä¸”ä¸ä¼šå¤±è”çš„æ‰˜ç®¡ç½‘ç«™å°±å¥½äº†ã€‚\nåœ¨å›½å†…è§„æ¨¡æ¯”è¾ƒå¤§çš„ä»£ç æ‰˜ç®¡ç½‘ç«™æ˜¯Giteeï¼Œä½†å¯¹äºæˆ‘ä»¬è¿™ç§åªæƒ³å°†è‡ªå·±çš„ä»£ç æ‰˜ç®¡åœ¨ç½‘ç«™ä¸Šï¼Œè€Œä¸æŒ‡æœ›æœ‰äººforkçš„å°é€æ˜æ¥è¯´ï¼Œæ­å»ºä¸€ä¸ªå±äºè‡ªå·±çš„ä»£ç æ‰˜ç®¡æœåŠ¡æ˜¾ç„¶æ˜¯æœ€å¥½çš„ã€‚\næ¯”è¾ƒçŸ¥åçš„å¼€æºæ‰˜ç®¡æœåŠ¡æœ‰ï¼šGitLabï¼ŒGiteaï¼ŒGogsç­‰ã€‚\nGitLabæ˜¯åŠŸèƒ½æœ€å¤šï¼Œä½“é‡æœ€åºå¤§çš„ã€‚å®ƒè‡³å°‘éœ€è¦4Gçš„å†…å­˜æ¥æ”¯æ’‘è¿è¡Œã€‚ä½†å¯¹äºæˆ‘ä»¬ä¸ªäººæˆ–æ˜¯3-5äººçš„å°å›¢é˜Ÿæ¥è¯´ï¼Œå†—æ‚è€Œæ— å¿…è¦çš„åŠŸèƒ½åªä¼šå¢åŠ ä¸å¿…è¦çš„å¼€é”€ã€‚\nè¿™æ˜¯ä¸€å¼ æœåŠ¡å¯¹æ¯”å›¾ï¼Œæ¥è‡ªGiteaå®˜ç½‘\nGogså’ŒGiteaå°±ä¸ä¸€æ ·äº†ï¼Œå®ƒä»¬æ˜¯åŸºäºGoè¯­è¨€çš„è½»é‡çº§æ‰˜ç®¡æœåŠ¡ï¼Œç”šè‡³å¯ä»¥åœ¨èµ„æºæœ‰é™çš„æ ‘è“æ´¾Zeroç­‰ä½ç«¯å¾®å‹ç”µè„‘ä¸Šæµç•…è¿è¡Œï¼ˆå½“ç„¶ï¼Œå¤„ç†æ—¶é—´ä¼šæ¯”é«˜çº§çš„è¦é•¿ä¸€äº›ã€‚ï¼‰\nGiteaåœ¨Gogsçš„åŸºç¡€ä¸Šå¢åŠ äº†è®¸å¤šå¾ˆæœ‰å¿…è¦çš„åŠŸèƒ½ï¼Œå¦‚GPGç­¾åæäº¤ç­‰ã€‚ä½†æ˜¯å†…å­˜å ç”¨é‡ä¸Gogsç›¸æ¯”å·®è·è¾ƒå¤§ï¼Œæ®æˆ‘çš„æµ‹è¯•ï¼Œåœ¨æ ‘è“æ´¾ä¸Šï¼ŒGogsä¼šå ç”¨20-30Mçš„è¿å­˜ï¼Œè€ŒGiteaå ç”¨100-200Må†…å­˜ï¼Œæ‰€ä»¥æˆ‘ä¸å»ºè®®æ ‘è“æ´¾1ã€2ã€Zeroç­‰å†…å­˜åœ¨1Gä»¥ä¸‹çš„è®¾å¤‡å®‰è£…Giteaã€‚\næ ¹æ®æ ‡é¢˜ï¼Œæˆ‘è¿™ä¸€ç¯‡æ–‡ç« ä¸»è¦è®²æ ‘è“æ´¾4Bå®‰è£…Giteaã€‚è‡³äºæ ‘è“æ´¾Zeroå®‰è£…Gogsæ˜¯å¦å¤–ä¸€ç¯‡æ–‡ç« ã€‚\nä¸€ã€å‰æœŸå‡†å¤‡å·¥ä½œ 1.é¦–å…ˆè¦æ›´æ–°æ ‘è“æ´¾ä¸Šçš„æºå’Œè½¯ä»¶ã€‚\nsudo apt update //æ›´æ–°æº sudo apt upgrade //å‡çº§è½¯ä»¶åŒ… 2.å®‰è£…ä¾èµ–\nsudo apt install mariadb-server git unzip 3.å®ŒæˆMySQLçš„å®‰è£…ï¼ˆä½¿ç”¨å®‰å…¨å®‰è£…ï¼‰\nsudo mysql_secure_installation åœ¨è¿™ä¸€è¿‡ç¨‹ä¸­ä¼šè®¾ç½®rootç”¨æˆ·çš„å¯†ç ï¼Œè¿™ä¸ªè¦å¦¥å–„ä¿å­˜ï¼Œå› ä¸ºå…¶ä»–è¦ä½¿ç”¨MySQLæœåŠ¡çš„åº”ç”¨éƒ½å¯èƒ½è¦ä½¿ç”¨å®ƒã€‚\n4.è¿›å…¥MySQLå‘½ä»¤è¡Œç•Œé¢\nsudo mysql -u root -p ä¹‹åä½ éœ€è¦è¾“å…¥å®‰è£…æ—¶è®¾ç½®çš„rootç”¨æˆ·å¯†ç ã€‚\n5.åˆ›å»ºgiteaæ•°æ®åº“\nCREATE DATABASE gitea; 6.ä¸ºäº†å…¶ä»–æ•°æ®åº“å®‰å…¨èµ·è§ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªä¸“é—¨ç”¨æ¥ç®¡ç†giteaæ•°æ®åº“çš„ç”¨æˆ·\nGRANT ALL PRIVILEGES ON gogs.* TO \u0026#39;ç”¨æˆ·å\u0026#39;@\u0026#39;localhost\u0026#39; IDENTIFIED BY \u0026#39;å¯†ç \u0026#39;; 7.åˆ·æ–°ç‰¹æƒè¡¨\nFLUSH PRIVILEGES; 8.æ¥ä¸‹æ¥å¯ä»¥ç”¨ctrl+dæˆ–è€…è¾“å…¥exitæ¥é€€å‡ºMySQLå‘½ä»¤è¡Œæ¨¡å¼\n9.ä¸æ•°æ®åº“ç±»ä¼¼ï¼Œä¸ºäº†ç³»ç»Ÿçš„å®‰å…¨ï¼Œæˆ‘ä»¬ä¸“é—¨åˆ›å»ºä¸€ä¸ªç”¨äºå¤„ç†gitç›¸å…³äº‹åŠ¡çš„è´¦æˆ·ï¼Œç”¨â€œÂ -disabled-loginÂ â€å‚æ•°ç¡®ä¿å®ƒä¸å¯ä½œä¸ºç™»å½•çš„è´¦æˆ·\nsudo adduser --disabled-login git æˆ‘åœ¨æ­¤å°†ä¹‹å‘½åä¸ºgitï¼Œä½†ä½ ä¹Ÿå¯ä»¥é€‰æ‹©å…¶ä»–çš„å‘½åæ–¹å¼ï¼Œä¸è¿‡é‰´äºGiteaç­‰é…ç½®æ—¶é»˜è®¤éƒ½æ˜¯è¿™ä¸ªåå­—ï¼Œè¿˜æ˜¯å»ºè®®ä¸è¦æ”¹ã€‚\nç½‘å›¾ï¼Œæˆ‘è‡ªå·±å®ç°æ—¶å¹¶æœªæˆªå›¾ã€‚\näºŒã€å¼€å§‹å®‰è£…Gitea 1.æ ‘è“æ´¾ä½¿ç”¨çš„Raspberry Pi OSå±äºDebiançš„ä¸€ä¸ªåˆ†æ”¯ï¼Œå› æ­¤å®ƒå±äºLinuxç³»ç»Ÿã€‚è€ŒGiteaå¹¶æ²¡æœ‰é’ˆå¯¹Linuxçš„ç‹¬ç«‹å®‰è£…åŒ…ï¼Œå› æ­¤æˆ‘ä»¬åªèƒ½é€šè¿‡äºŒè¿›åˆ¶æ–‡ä»¶æ¥å®‰è£…ã€‚\ncd /home/git sudo wget https://dl.gitea.io/gitea/1.12.2/gitea-1.12.2-linux-arm64 -O gitea ç°åœ¨æˆ‘ä»¬å·²ç»å°†åä¸ºgiteaçš„äºŒè¿›åˆ¶æ–‡ä»¶ä¸‹è½½åˆ°gitç”¨æˆ·å¯¹åº”çš„ä¸ªäººæ–‡ä»¶å¤¹ä¸‹äº†ï¼Œä¸‹è½½é“¾æ¥ä¼šéšæ—¶é—´æˆ–æ˜¯ç³»ç»Ÿè€Œå˜åŒ–ã€‚æˆ‘ä½¿ç”¨çš„æ˜¯æ ‘è“æ´¾å®˜æ–¹çš„æµ‹è¯•ç‰ˆ64ä½ç³»ç»Ÿï¼Œå› æ­¤è¦ä¸‹è½½arm64ç‰ˆæœ¬ï¼Œå¦‚æœæ˜¯æ­£å¼ç‰ˆæˆ–æ˜¯ä¸åŒæ¶æ„çš„è®¾å¤‡ï¼Œé‚£å°±åº”è¯¥æŒ‰ç…§è‡ªå·±çš„æƒ…å†µé€‰æ‹©å¯¹åº”çš„ç‰ˆæœ¬ã€‚é™„ä¸Šä¸‹è½½åœ°å€ã€‚\n2.æ¥ä¸‹æ¥æˆ‘ä»¬å¯¹å®ƒèµ‹äºˆå¯æ‰§è¡Œæƒé™\nsudo chmod +x gitea ä¹‹åæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥è¿è¡Œæ¥æµ‹è¯•ä¸€ä¸‹äº†ã€‚\n./gitea web æµ‹è¯•å®Œå¯ä»¥ç›´æ¥ctrl+cç»ˆæ­¢è¿è¡Œæ¥é€€å‡ºã€‚\n3.å¦‚æœæˆ‘ä»¬ä¸æƒ³æ¯æ¬¡å…³æ‰å‘½ä»¤è¡Œçª—å£æœåŠ¡éƒ½ä¼šä¸­æ–­ï¼Œæˆ‘ä»¬å¿…é¡»å°†ä¹‹é…ç½®ä¸ºservice\næœ‰ä¸¤ç§æ–¹å¼å¯ä»¥åšåˆ°ï¼Œæœ¬æ–‡åªä»‹ç»å…¶ä¸­çš„systemdæ–¹å¼ï¼Œè€Œå¦ä¸€ç§supervisorï¼Œè¯·çœ‹å®˜æ–¹æ–‡æ¡£ã€‚\né¦–å…ˆï¼Œæˆ‘ä»¬è¦åœ¨æŒ‡å®šç›®å½•ä¸ºå®ƒåˆ›å»ºç³»ç»ŸæœåŠ¡æ–‡ä»¶\nsudo nano /etc/systemd/system/gitea.service æˆ‘åœ¨æ­¤ä½¿ç”¨çš„æ˜¯nanoï¼Œå› ä¸ºå…¶æ“ä½œç®€å•ï¼Œå½“ç„¶ä½¿ç”¨vimä¹Ÿæ˜¯æ²¡é—®é¢˜çš„ã€‚\nä¹‹åæˆ‘ä»¬éœ€è¦å°†å®˜æ–¹çš„ç¤ºä¾‹ä»£ç ç²˜è´´è¿›å»ï¼Œå¹¶ä½œå‡ºä¿®æ”¹ã€‚\nå¦‚æœä½ æŒ‰ç…§ä¹‹å‰çš„æ­¥éª¤é…ç½®ï¼Œé‚£ä¹ˆç¤ºä¾‹ä»£ç ä¸­ä»…æœ‰ä»¥ä¸‹éƒ¨åˆ†æ˜¯å¿…è¦çš„ï¼š\n[Unit] Description=Gitea (Git with a cup of tea) After=syslog.target After=network.target [Service] # Modify these two values and uncomment them if you have # repos with lots of files and get an HTTP error 500 because # of that ### #LimitMEMLOCK=infinity #LimitNOFILE=65535 RestartSec=2s Type=simple User=git Group=git WorkingDirectory=/home/pi/gitea/ //å·¥ä½œç›®å½•ï¼Œé…ç½®åœ¨giteaæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•å³å¯ # If using Unix socket: tells systemd to create the /run/gitea folder, which will contain the gitea.sock file # (manually creating /run/gitea doesn\u0026#39;t work, because it would not persist across reboots) #RuntimeDirectory=gitea ExecStart=/home/pi/gitea web --config /home/pi/custom/conf/app.ini //é…ç½®æ–‡ä»¶ä½äºå·¥ä½œç›®å½•ä¸‹çš„custom/confæ–‡ä»¶å¤¹ä¸­ Restart=always Environment=USER=git HOME=/home/git GITEA_WORK_DIR=/home/pi/ //æŒ‰ç…§å·¥ä½œç›®å½•é…ç½® # If you want to bind Gitea to a port below 1024, uncomment # the two values below, or use socket activation to pass Gitea its ports as above ### #CapabilityBoundingSet=CAP_NET_BIND_SERVICE #AmbientCapabilities=CAP_NET_BIND_SERVICE ### [Install] WantedBy=multi-user.target é…ç½®å®Œæˆåï¼Œä¿å­˜é€€å‡ºï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤å°†æœåŠ¡åŠ è½½ï¼Œå¹¶å¯åŠ¨ã€‚\nsudo systemctl daemon-reload sudo systemctl start gitea å¦‚æœæƒ³è¦å¼€æœºè‡ªå¯ï¼Œè¿˜å¿…é¡»è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š\nsudo systemctl enable gitea åˆ°æ­¤ä¸ºæ­¢ï¼Œå®‰è£…å®Œæˆã€‚\nä¸‰ã€é…ç½®Gitea 1.è®¿é—®ä½ æœåŠ¡å™¨æ‰€åœ¨IPåœ°å€çš„3000ç«¯å£å°±ä¼šè¿›å…¥ä¸»ç•Œé¢ï¼Œåœ°å€æ ¼å¼å¦‚ä¸‹ï¼š\nhttp://\u0026lt;IPåœ°å€\u0026gt;:3000 ç•Œé¢å¦‚ä¸Šå›¾æ‰€ç¤º\n2.æ¥ä¸‹æ¥ç‚¹å‡»Sign Inï¼Œç¬¬ä¸€æ¬¡å®‰è£…ä¼šè·³è½¬è‡³é…ç½®ç•Œé¢\nå¦‚ä¸Šå›¾æ‰€ç¤º\næ•°æ®åº“ç±»å‹æˆ‘ä»¬é€‰æ‹©MySQLï¼Œç”¨æˆ·åå’Œå¯†ç æŒ‰ç…§æˆ‘ä»¬ä¹‹å‰çš„é…ç½®ï¼Œä½¿ç”¨æˆ‘ä»¬ä¸“å±çš„giteauserå³å¯ã€‚\nåŸŸåå’Œåº”ç”¨URLï¼Œå¦‚æœæœ‰åŸŸåå¯ä»¥ç›´æ¥å¡«å†™ï¼Œæ²¡æœ‰çš„è¯å¯ä»¥ç¨åè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œç¼–è¾‘æ–‡ä»¶æ¥é…ç½®ï¼š\nsudo nano /home/git/custom/conf/app.ini ç”µå­é‚®ç®±è®¾ç½®éœ€è¦æ³¨æ„çš„æ˜¯STMPæœåŠ¡å™¨åœ°å€è¦å¸¦ç«¯å£å·ï¼Œå¦‚ï¼š\nstmp.qq.com:465 ç®¡ç†å‘˜è´¦å·ä¸æ˜¯å¿…é¡»çš„ï¼Œå› ä¸ºç³»ç»Ÿä¼šå°†åˆ›å»ºçš„ç¬¬ä¸€ä¸ªè´¦æˆ·é»˜è®¤ä¸ºç®¡ç†å‘˜ã€‚\nå¯é€‰è®¾ç½®å¯ä»¥æŒ‰éœ€è¦é…ç½®ï¼Œå¦‚avatarç­‰ç›¸å…³è®¾ç½®åœ¨å›½å†…å°±æ˜¯æ— æ•ˆçš„ï¼Œéœ€è¦é­”æ³•æ‰èƒ½ä½¿ç”¨ã€‚\nç‚¹å‡»ç«‹åˆ»å®‰è£…ï¼Œæ ¹æ®è®¾å¤‡æƒ…å†µä¼šèŠ±è´¹ä¸åŒæ—¶é—´ï¼Œæœ€åä¼šçœ‹åˆ°ä»¥ä¸‹ç•Œé¢ï¼Œä»£è¡¨å®‰è£…æˆåŠŸã€‚\nå››ã€åå‘ä»£ç† æˆ‘ä»¬ä¼šå‘ç°å¦‚æœæŒ‰ç…§ä¸Šè¿°æ­¥éª¤åšå®Œï¼Œæ˜¯ä¸èƒ½ç›´æ¥é€šè¿‡åŸŸåè®¿é—®Giteaç½‘ç«™çš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦åšåå‘ä»£ç†ï¼Œé€šè¿‡Nginxæˆ–æ˜¯Apacheç­‰åå‘ä»£ç†æœåŠ¡æ¥å®ç°ç›´æ¥é€šè¿‡åŸŸåè®¿é—®ã€‚\næœ¬æ–‡åªä»‹ç»Nginxï¼ŒApacheç›¸å…³è¯·çœ‹å®˜æ–¹æ–‡æ¡£ã€‚\nNginxçš„åå‘ä»£ç†å®˜ç½‘ä¸Šè§£é‡Šå¾—å¾ˆè¯¦ç»†ï¼Œæœ¬æ–‡åªè¡¥å……HTTPSç›¸å…³å†…å®¹ã€‚\nè¦é…ç½®HTTPSï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯åœ¨giteaçš„app.iniä¸­ï¼ŒæŒ‰ç…§ä¸‹å›¾æŒ‡ç¤ºæ¥é…ç½®ï¼š\næˆ‘ä»¬éœ€è¦åœ¨æ–‡ä»¶ä¸­è®¾ç½®ï¼š\nPROTOCOL = https CERT_FILE = /ä½ çš„/è¯ä¹¦/æ–‡ä»¶/åœ°å€/è·¯å¾„ KEY_FILE = /ä½ çš„/ç§é’¥/æ–‡ä»¶/åœ°å€/è·¯å¾„ åœ¨æ­¤ä¹‹åï¼Œéœ€è¦åœ¨åå‘ä»£ç†ä¸­å°†ï¼š\nproxy_pass http://localhost:3000; ä¿®æ”¹ä¸ºï¼š\nproxy_pass https://localhost:3000; ä»¥ä¸Šæ˜¯ç¬¬ä¸€ç§æ–¹æ³•ï¼Œç¬¬äºŒç§æ–¹æ³•æ˜¯åœ¨Nginxé…ç½®æ–‡ä»¶ä¸­é…ç½®ï¼Œä¸‹é¢ç»™å‡ºä¸€ä¸ªé…ç½®æ ·ä¾‹ï¼š\nserver { //å°†httpå…¨éƒ¨é‡å®šå‘ä¸ºhttps listen 80; listen [::]:80; server_name git.ourdocs.cn; location / { rewrite ^(.*)$ https://$host$1 permanent; } } server { # SSL configuration # listen 443 ssl; listen [::]:443 ssl; ssl_certificate /home/pi/Csr/*.ourdocs.cn_chain.crt; ssl_certificate_key /home/pi/Csr/*.ourdocs.cn_key.key; ssl_session_timeout 5m; #è¯·æŒ‰ç…§ä»¥ä¸‹åè®®é…ç½® ssl_protocols TLSv1 TLSv1.1 TLSv1.2; #è¯·æŒ‰ç…§ä»¥ä¸‹å¥—ä»¶é…ç½®ï¼Œé…ç½®åŠ å¯†å¥—ä»¶ï¼Œå†™æ³•éµå¾ª openssl æ ‡å‡†ã€‚ ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE; ssl_prefer_server_ciphers on; server_name git.ourdocs.cn; location / { proxy_pass http://localhost:3000; } } ä¿®æ”¹å®Œé…ç½®æ–‡ä»¶åï¼Œä½¿ç”¨ä¸‹è¿°ä»£ç ä½¿Nginxé‡æ–°åŠ è½½ï¼š\nsudo nginx -s reload æœ¬æ•™ç¨‹åˆ°æ­¤ç»“æŸï¼Œé™„ä¸Šå®‰è£…å®Œæˆåçš„æˆªå›¾ä¸€å¼ ï¼š\n","date":1594771200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1744646224,"objectID":"5c107172a14968ed5bd86d5cec747076","permalink":"https://blog.ourdocs.cn/post/gitea_on_raspberrypichinese/","publishdate":"2020-07-15T00:00:00Z","relpermalink":"/post/gitea_on_raspberrypichinese/","section":"post","summary":"ä»é›¶å¼€å§‹åœ¨æ ‘è“æ´¾ä¸Šæ­å»ºè‡ªå·±çš„ä»£ç æ‰˜ç®¡æœåŠ¡","tags":["tutorial","Chinese"],"title":"æ ‘è“æ´¾æ­å»ºç§æœ‰ä»£ç æ‰˜ç®¡æœåŠ¡ï¼ˆGiteaï¼‰","type":"post"}]